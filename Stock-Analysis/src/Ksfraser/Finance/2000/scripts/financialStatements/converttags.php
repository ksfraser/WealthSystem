<?php

//20090824 KF
//Convert Tags from google-findata2xml and yahoo-findata2xml.
//Take the tags from the finstatement lines and convert to the names in the data base.

function converttags( $line )
{
	$statementtags = array( 
				"NetIncome/StartingLine",
				"TotalRevenue", 
				"CostofRevenue",
				"GrossProfit",
				"OperatingIncomeorLoss",
				"NetIncome",
				"PreferredStockAndOtherAdjustments",
				"NetIncomeApplicableToCommonShares",
				"PeriodEndDates",
				"TotalCurrentAssets",
				"LongTermInvestments",
				"PropertyPlantandEquipment",
				"Goodwill",
				"IntangibleAssets",
				"Amortization",
				"OtherAssets",
				"DeferredLongTermAssetCharges",
				"TotalAssets",
				"TotalCurrentLiabilities",
				"LongTermDebt",
				"OtherLiabilities",
				"DeferredLongTermLiabilityCharges",
				"MinorityInterest",
				"NegativeGoodwill",
				"TotalLiabilities",
				"MiscStocksOptionsWarrants",
				"RedeemablePreferredStock",
				"PreferredStock",
				"CommonStock",
				"TreasuryStock",
				"CapitalSurplus",
				"OtherStockholderEquity",
				"TotalStockholderEquity",
				"NetTangibleAssets",
				"depreciation",
				"AdjustmentsToNetIncome",
				"ChangesInAccountsReceivables",
				"ChangesInLiabilities",
				"ChangesInInventories",
				"ChangesInOtherOperatingActivities",
				"TotalCashFlowFromOperatingActivities",
				"CapitalExpenditures",
				"Investments",
				"OtherCashflowsfromInvestingActivities",
				"TotalCashFlowsFromInvestingActivities",
				"DividendsPaid",
				"SalePurchaseofStock",
				"NetBorrowings",
				"OtherCashFlowsfromFinancingActivities",
				"TotalCashFlowsFromFinancingActivities",
				"EffectOfExchangeRateChanges",
				"ChangeInCashandCashEquivalents",
				"Depreciation/Depletion",
				"ChangesinWorkingCapital",
				"incomegrowth",
				"ownerearnings",
				"totaldebt",
				"DividendsperShare-outstandingsharesPrimaryIssue",
				"dividendspershare2",
				"dividendspershare3",
				"earningspershare",
				"earningspershare1",
				"earningspershare2",
				"earningspershare3",
				"revenuegrowth",
				"revenuegrowth2",
				"revenuegrowth3",
				"DividendsperShare-CommonStockPrimaryIssue",
				"outstandingshares,Total",
				"Depreciation/amortization",
				"Depreciation/Amortization",
				"TotalCommonSharesOutstanding",
				"IncomeBeforeTax",
				"TotalDebt",
				"DilutedEPSExcludingExtraordinaryItems",
				"Net Income/Starting Line",
				"Changes in Working Capital",
				"Common Stock, Total",
				"Total Equity",
				"Diluted Normalized EPS",
				"Amortization",
				"Depreciation/Depletion",
				"TotalEquity",
				"Retained Earnings (Accumulated Deficit)",
				"RetainedEarnings(AccumulatedDeficit)",
				"RetainedEarnings"
				);
	$databasetags = array( 
				"netincome",
				"revenue", 
				"CostofRevenue",
				"grossprofit",
				"operatingincome",
				"incomenetincome",
				"PreferredStockAndOtherAdjustments",
				"NetIncomeApplicableToCommonShares",
				"PeriodEndDates",
				"TotalCurrentAssets",
				"LongTermInvestments",
				"PropertyPlantandEquipment",
				"Goodwill",
				"IntangibleAssets",
				"amortization",
				"OtherAssets",
				"DeferredLongTermAssetCharges",
				"totalasset",
				"TotalCurrentLiabilities",
				"LongTermDebt",
				"OtherLiabilities",
				"DeferredLongTermLiabilityCharges",
				"MinorityInterest",
				"NegativeGoodwill",
				"totalliability",
				"MiscStocksOptionsWarrants",
				"RedeemablePreferredStock",
				"PreferredStock",
				"outstandingshares",
				"TreasuryStock",
				"CapitalSurplus",
				"OtherStockholderEquity",
				"totalequity",
				"NetTangibleAssets",
				"depreciation",
				"AdjustmentsToNetIncome",
				"ChangesInAccountsReceivables",
				"ChangesInLiabilities",
				"ChangesInInventories",
				"ChangesInOtherOperatingActivities",
				"TotalCashFlowFromOperatingActivities",
				"capitalexpenses",
				"Investments",
				"OtherCashflowsfromInvestingActivities",
				"TotalCashFlowsFromInvestingActivities",
				"dividendspershare",
				"SalePurchaseofStock",
				"NetBorrowings",
				"OtherCashFlowsfromFinancingActivities",
				"TotalCashFlowsFromFinancingActivities",
				"EffectOfExchangeRateChanges",
				"ChangeInCashandCashEquivalents",
				"depletion",
				"workingcapital",
				"incomegrowth",
				"ownerearnings",
				"totaldebt",
				"dividendpershare",
				"dividendpershare2",
				"dividendpershare3",
				"earningpershare",
				"earningspershare1",
				"earningspershare2",
				"earningspershare3",
				"revenuegrowth",
				"revenuegrowth2",
				"revenuegrowth3",
				"dividendpershare",
				"outstandingshare",
				"depreciation",
				"depreciation",
				"shares",
				"pretaxincome",
				"totaldebt",	
				"earningpershare",
				"netincome",
				"workingcapital",
				"outstandingshare",
				"totalequity",
				"earningpershare",
				"amortization",
				"depletion",
				"totalequity",
				"retainedearnings",
				"retainedearnings",
				"retainedearnings"
				);
	return str_replace( $statementtags, $databasetags, $line );
}
