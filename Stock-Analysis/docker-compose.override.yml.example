# Docker Compose Override Examples
# 
# This file provides examples for different deployment scenarios.
# Copy the relevant section to docker-compose.override.yml to use.

# ============================================================================
# OPTION 1: Use MySQL (Default - no override needed)
# ============================================================================
# Just run: docker-compose up -d
# MySQL will be used by default


# ============================================================================
# OPTION 2: Use MariaDB instead of MySQL
# ============================================================================
# Copy this to docker-compose.override.yml:

version: '3.8'

services:
  app:
    depends_on:
      mariadb:
        condition: service_healthy
      redis:
        condition: service_healthy
    environment:
      DB_HOST: mariadb
      DB_TYPE: mariadb

# Then run: docker-compose --profile mariadb up -d


# ============================================================================
# OPTION 3: Use External Database (No container database)
# ============================================================================
# Copy this to docker-compose.override.yml:

version: '3.8'

services:
  app:
    depends_on:
      redis:
        condition: service_healthy
    environment:
      USE_EXTERNAL_DB: "true"
      DB_HOST: your-external-db-host.example.com
      DB_PORT: 3306
      DB_DATABASE: stock_analysis
      DB_USERNAME: stock_app
      DB_PASSWORD: your_secure_password
      DB_TYPE: mysql  # or mariadb

# Then run: docker-compose up -d


# ============================================================================
# OPTION 4: Use External Redis and Database
# ============================================================================
# Copy this to docker-compose.override.yml:

version: '3.8'

services:
  app:
    depends_on: []
    environment:
      USE_EXTERNAL_DB: "true"
      DB_HOST: your-external-db-host.example.com
      DB_PORT: 3306
      DB_DATABASE: stock_analysis
      DB_USERNAME: stock_app
      DB_PASSWORD: your_secure_password
      DB_TYPE: mysql
      
      REDIS_HOST: your-external-redis-host.example.com
      REDIS_PORT: 6379
      REDIS_PASSWORD: your_redis_password
      REDIS_DATABASE: 0

# Then run: docker-compose up -d app
